{"version":3,"file":"b2-min.js","sources":["b2.js"],"names":["root","factory","define","amd","Backbone","_","$","exports","B2","require","jQuery","Zepto","ender","this","previousB2","VERSION","noConflict","localStorage","window","e","extend","View","template","appEvents","broadcastEvents","broadcast","args","slice","apply","arguments","unshift","trigger","registerComponent","name","component","container","dontRender","i","_components","hasOwnProperty","comp","stopListening","remove","_parentView","_componentName","delegateEventSplitter","key","funcName","match","eventName","selector","selectorExp","exec","regSelector","RegExp","replace","matched","isRegExp","test","eventNames","split","func","length","listenTo","all","concat","toArray","_events","shift","isString","append","el","render","getComponent","getComponents","freeChildren","toRemove","each","removeFlag","_addFieldToFormParams","fieldName","fieldValue","params","isObject","isArray","paramObj","push","oldValue","value","_parseSerializeOpts","optsStr","optsObj","opts","valueMap","false","true","opt","opt0","trim","opt1","isUndefined","defaults","serializeForm","formEl","ignorePrefix","needArray","ignoredParentClass","that","$paramEls","find","filter","notInIgnoredForm","$parent","closest","contains","indexOf","$field","attr","serializeOpts","val","fieldValue2","isValidParam","inverseValue","valueDataType","data","prop","toLowerCase","intValue","parseInt","isNaN","floatValue","parseFloat","serializeArray","getParentView","parentView","prototype","$el","html","Model","Collection","Router","History","protoProps","staticProps","forceSuperMethods","child","parent","_super","has","constructor","Surrogate","fnTest","manageAjaxTest","fn","tmp","viewId","cid","ret","__super__","_oldExtend","_oldRender","onRenderBegin","onRenderEnd","SubView","call","events"],"mappings":"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"}